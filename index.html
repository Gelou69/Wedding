<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kristen & Denzel | Our Wedding</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Custom Font Setup */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@100..900&display=swap');

        /* Tailwind Configuration overrides */
        :root {
            font-family: 'Inter', sans-serif;
        }

        .font-header {
            font-family: 'Playfair Display', serif;
        }

        /* 1. LOADER SPLASH SCREEN STYLES (Responsive & Centered) */
        #loader-splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #92400E; /* sun-brown */
            color: #FFFBEB; /* bg-light */
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Playfair Display', serif;
            z-index: 1000;
            opacity: 1;
            transition: opacity 1.5s ease-out; 
            text-align: center;
        }
        #loader-splash.hidden {
            display: none;
        }
        #loader-text-container {
            display: flex;
            flex-direction: column; /* Stack the icon and text */
            align-items: center;
            justify-content: center;
        }
        #loader-icon {
            font-size: 3rem; /* Size for the sunflower icon */
            margin-bottom: 0.5rem;
            opacity: 0;
            animation: textFadeIn 1.5s ease-in-out forwards;
        }
        #loader-text {
            font-size: 2.5rem; /* Default for mobile */
            font-weight: 700;
            letter-spacing: 0.2em;
            opacity: 0;
            animation: textFadeIn 1.5s ease-in-out forwards;
            animation-delay: 0.2s; /* Slight delay after icon */
            margin-bottom: 2rem; 
        }
        /* New styles for the music button */
        #play-music-btn {
            opacity: 0;
            animation: textFadeIn 1.5s ease-in-out forwards;
            animation-delay: 1s;
        }
        @media (min-width: 640px) {
            #loader-text {
                font-size: 4rem; 
                letter-spacing: 0.25em;
            }
            #loader-icon {
                font-size: 5rem;
            }
        }

        /* Keyframe for text reveal */
        @keyframes textFadeIn {
            0% { opacity: 0; transform: scale(0.95); }
            50% { opacity: 1; transform: scale(1); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        /* 2. SUNFLOWER PETAL ANIMATION STYLES (No Change) */
        .petal-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .petal {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #facc15; /* yellow-400 */
            border-radius: 50% 50% 50% 0 / 50% 50% 0 50%; /* Petal shape */
            opacity: 0.7;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* 3. SCROLL REVEAL STYLES (No Change) */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1.2s ease-out, transform 1.2s ease-out;
        }
        
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* 4. HERO SECTION ANIMATION STYLES (No Change) */
        .hero-image {
             animation: fadeInScale 1.5s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        /* 5. SLIDER SPECIFIC STYLES (No Change) */
        .slider-image {
            width: 100%;
            height: 400px; /* Fixed height for consistency */
            object-fit: cover;
            transition: opacity 0.7s ease-in-out;
        }
        .story-text {
            min-height: 120px; /* Ensure consistent height for text area */
            transition: opacity 0.7s ease-in-out;
        }
        .fade-out {
            opacity: 0;
        }
        .fade-in {
            opacity: 1;
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sun-yellow': '#FBBF24', /* amber-400 */
                        'sun-brown': '#92400E', /* amber-800 */
                        'bg-light': '#FFFBEB', /* amber-50 */
                        'text-dark': '#4A2B0E',
                        'theme-green': '#16A34A', /* green-600 */
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-bg-light text-text-dark antialiased overflow-x-hidden">

    <audio id="background-music" loop preload="auto">
        <source src="MUSIC (2).mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div id="loader-splash">
        <div id="loader-text-container">
            <span id="loader-icon" class="text-sun-yellow" aria-hidden="true">ðŸŒ»</span>
            <h2 id="loader-text">YOU ARE INVITED</h2>
            
            <button id="play-music-btn" class="bg-sun-yellow text-sun-brown font-bold text-lg py-2 px-6 rounded-full shadow-lg hover:bg-yellow-500 transition-colors duration-300 transform hover:scale-105 active:scale-95 border-2 border-sun-brown">
                <span class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-5 h-5 mr-2">
                        <path fill-rule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" />
                    </svg>
                    ACCEPT
                </span>
            </button>
            </div>
    </div>

    <div id="petal-container" class="petal-bg"></div>

    <main class="relative z-10 hidden"> 

        <section id="hero" class="min-h-screen flex flex-col items-center justify-center text-center p-4 bg-yellow-100/50 relative overflow-hidden">
            <div class="relative z-10 space-y-6 sm:space-y-8 max-w-3xl mx-auto py-12 px-6">
                
                <div class="relative w-48 h-48 sm:w-64 sm:h-64 mx-auto rounded-full overflow-hidden border-4 border-sun-yellow shadow-xl opacity-0 transform scale-90 hero-image">
                    <img src="pic.jpg" alt="Kristen and Denzel smiling" class="w-full h-full object-cover">
                </div>

                <p class="text-lg sm:text-2xl font-header tracking-widest text-sun-brown opacity-0 transition-all duration-1000 delay-500" style="animation: fadeIn 1s forwards;">We're Getting Married!</p>
                
                <h1 class="text-5xl md:text-8xl font-header font-bold text-sun-brown leading-tight opacity-0 transition-all duration-1000 delay-800" style="animation: fadeIn 1s forwards;">
                    Kristen & Denzel
                </h1>
                
                <p class="text-xl sm:text-3xl font-header text-sun-yellow tracking-wider opacity-0 transition-all duration-1000 delay-[1100ms]" style="animation: fadeIn 1s forwards;">
                    February 14th, 2026
                </p>
                
                <div id="countdown" class="flex justify-center space-x-2 sm:space-x-4 mt-8 text-center text-text-dark opacity-0 transition-all duration-1000 delay-[1400ms]" style="animation: fadeIn 1s forwards;">
                    </div>
            </div>
            
            <a href="#details" class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-sun-brown animate-bounce opacity-0 transition-all duration-1000 delay-[1600ms]" style="animation: fadeIn 1s forwards;" aria-label="Scroll down for event details">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                </svg>
            </a>
        </section>
        
        <section id="details" class="py-20 px-4 sm:px-8 bg-bg-light">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-5xl font-header mb-12 text-sun-yellow animate-on-scroll">The Day We Say "I Do"</h2>
                
                <div class="grid md:grid-cols-2 gap-8 md:gap-12">
                    
                    <div class="p-8 bg-white rounded-xl shadow-lg border-t-4 border-sun-yellow animate-on-scroll">
                        <div class="flex items-center justify-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-sun-yellow" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-9-6v.75m-4.5 3V21M8.25 9V21m3.75-9H15" />
                            </svg>
                        </div>
                        <h3 class="text-3xl font-header font-semibold mb-3 text-sun-brown">Ceremony</h3>
                        <p class="text-lg font-bold mb-2">4:00 PM</p>
                        <p class="text-gray-600">The Golden Fields Farm</p>
                        <p class="text-gray-600">123 Sunset Lane, Meadowville, CA 90210</p>
                        <a href="#" target="_blank" rel="noopener noreferrer" class="text-sm text-sun-yellow hover:text-sun-brown transition-colors duration-300 block mt-4 underline" title="Open The Golden Fields Farm location in Google Maps">View Map</a>
                    </div>
                    
                    <div class="p-8 bg-white rounded-xl shadow-lg border-t-4 border-theme-green animate-on-scroll">
                        <div class="flex items-center justify-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-theme-green" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 01-3.08-3.08L3.25 12l2.846-.813a4.5 4.5 0 013.08-3.08L9 5.25l.813 2.846a4.5 4.5 0 013.08 3.08L15.75 12l-2.846.813a4.5 4.5 0 01-3.08 3.08zM17.825 3.39L18.4 5.923l2.53-1.071-1.07 2.53 2.53 1.072-3.663 3.664M9 10H7.5M9 8H7.5" />
                            </svg>
                        </div>
                        <h3 class="text-3xl font-header font-semibold mb-3 text-sun-brown">Reception</h3>
                        <p class="text-lg font-bold mb-2">6:00 PM - Midnight</p>
                        <p class="text-gray-600">Dinner, Dancing, and Celebration to follow at the same location!</p>
                        <p class="text-sm mt-4 italic">Dress Code: Rustic Formal - Colors encouraged are earthy greens and yellows.</p>
                    </div>
                </div>

                <div class="mt-16 animate-on-scroll">
                    <button id="rsvp-btn" class="bg-sun-yellow text-sun-brown font-bold text-xl py-3 px-10 rounded-full shadow-lg hover:bg-yellow-500 transition-all duration-300 transform hover:scale-105 active:scale-95 border-2 border-sun-brown relative overflow-hidden" role="button">
                        <span class="relative z-10">RSVP Now</span>
                        <div class="absolute inset-0 bg-white opacity-0 transition-opacity duration-500 hover:opacity-10"></div>
                    </button>
                    <p id="rsvp-message" class="mt-4 text-theme-green font-semibold hidden" aria-live="polite">Thank you for your RSVP! We can't wait to celebrate with you.</p>
                </div>
                
            </div>
        </section>

        <section id="our-story" class="py-20 px-4 sm:px-8 bg-yellow-100/50 animate-on-scroll">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-5xl font-header mb-12 text-sun-brown">Our Story</h2>
                
                <div class="max-w-2xl mx-auto mb-10 p-6 bg-white rounded-xl shadow-lg border-t-4 border-theme-green animate-on-scroll">
                    <p id="story-heading" class="text-2xl font-header font-semibold text-sun-yellow mb-4">The Beginning</p>
                    <p id="story-paragraph" class="text-lg text-gray-700 story-text">
                        It all started on a warm summer evening at a local farmer's market. Kristen was admiring the sunflowers, and Denzel, selling his homemade honey, offered her a free sample. It was love at first sight... and first taste!
                    </p>
                </div>

                <div id="story-slider" class="relative w-full max-w-2xl mx-auto overflow-hidden rounded-xl shadow-lg border-2 border-sun-yellow animate-on-scroll">
                    
                    <img id="slider-img" src="pic 121.jpg" alt="Our story photo 1: The Beginning" class="slider-image">
                    
                    <div id="slider-dots" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-3">
                        </div>
                </div>
            </div>
        </section>

        <footer class="bg-sun-brown/80 text-white py-8 text-center mt-12">
            <p class="text-xl font-header">Â© 2026 Kristen & Denzel</p>
            <p class="text-sm mt-2">Love is in the air... and the sunflowers are blooming!</p>
        </footer>

    </main>

    <div id="rsvp-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[1001] hidden transition-opacity duration-300">
        <div class="bg-bg-light rounded-xl p-8 max-w-md w-full shadow-2xl border-t-8 border-sun-yellow">
            <h3 class="text-3xl font-header font-bold text-sun-brown mb-4 border-b pb-2">Confirm Your Attendance</h3>
            <p class="text-gray-600 mb-6">Please let us know if you can join us!</p>
            
            <form id="rsvp-form">
                <div class="mb-4">
                    <label for="full-name" class="block text-sm font-semibold text-text-dark mb-1">Full Name(s)</label>
                    <input type="text" id="full-name" name="Name" placeholder="Name" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-sun-yellow focus:border-sun-yellow">
                </div>

                <div class="mb-4">
                    <label for="attending" class="block text-sm font-semibold text-text-dark mb-1">Will you be attending?</label>
                    <select id="attending" name="Attending" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-sun-yellow focus:border-sun-yellow">
                        <option value="" disabled selected>Select an option</option>
                        <option value="Yes">Yes, gladly!</option>
                        <option value="No">No, regrettably</option>
                    </select>
                </div>
                
                <div class="mb-6 hidden" id="guest-count-field">
                    <label for="guest-count" class="block text-sm font-semibold text-text-dark mb-1">Total Guests (Including you)</label>
                    <input type="number" id="guest-count" name="Guest Count" value="1" min="1" max="100" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-sun-yellow focus:border-sun-yellow">
                </div>

                <div class="flex justify-end space-x-3">
                    <button type="button" id="close-modal-btn" class="px-4 py-2 text-gray-700 bg-gray-200 rounded-full hover:bg-gray-300 transition-colors">Cancel</button>
                    <button type="submit" id="confirm-rsvp-btn" class="px-6 py-2 bg-theme-green text-white font-bold rounded-full shadow-md hover:bg-green-700 transition-colors">
                        Confirm RSVP
                    </button>
                </div>
                <p id="form-status" class="mt-3 text-sm font-semibold text-center hidden" aria-live="polite"></p>
            </form>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const weddingDate = new Date("February 14, 2026 16:00:00").getTime();
            const countdownEl = document.getElementById('countdown');
            const petalContainer = document.getElementById('petal-container');
            const loaderSplash = document.getElementById('loader-splash');
            const mainContent = document.querySelector('main');
            const music = document.getElementById('background-music');
            const playMusicBtn = document.getElementById('play-music-btn');

            
            // --- 1. LOADING SPLASH SCREEN REVEAL & MUSIC START FIX ---
            let hasInteracted = false;
            let isMusicPlaying = false; 
            let isStorySliderVisible = false;

            function revealContent() {
                loaderSplash.style.opacity = '0';
                
                setTimeout(() => {
                    loaderSplash.classList.add('hidden');
                    mainContent.classList.remove('hidden');
                }, 1500); 
            }

            function startContent() {
                if (hasInteracted) return;
                hasInteracted = true;
                
                revealContent(); 
            }

            playMusicBtn.addEventListener('click', startContent);
            

            // --- 2. COUNTDOWN TIMER LOGIC ---
            function updateCountdown() {
                const now = new Date().getTime();
                const distance = weddingDate - now;

                if (distance < 0) {
                    countdownEl.innerHTML = "<p class='text-4xl font-bold'>The celebration has begun!</p>";
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                const segments = [
                    { value: days, label: 'Days' },
                    { value: hours, label: 'Hours' },
                    { value: minutes, label: 'Minutes' },
                    { value: seconds, label: 'Seconds' }
                ];

                countdownEl.innerHTML = segments.map(segment => `
                    <div class="p-2.5 sm:p-4 bg-white/70 backdrop-blur-sm rounded-lg shadow-md min-w-[60px] sm:min-w-[70px] transition-all duration-300 hover:scale-[1.02]">
                        <div class="text-3xl sm:text-5xl font-bold font-header text-sun-brown">${segment.value.toString().padStart(2, '0')}</div>
                        <div class="text-xs font-semibold text-text-dark uppercase mt-1">${segment.label}</div>
                    </div>
                `).join('');
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);


            // --- 3. SCROLL ANIMATION (Intersection Observer) LOGIC ---
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        
                        if (entry.target.id !== 'our-story' && entry.target.closest('#our-story') === null) {
                            observer.unobserve(entry.target);
                        }

                        if (entry.target.id === 'our-story' || entry.target.closest('#our-story')) {
                            isStorySliderVisible = true;
                            
                            if (hasInteracted && !isMusicPlaying) {
                                music.volume = 0.4;
                                music.play().then(() => {
                                    isMusicPlaying = true;
                                    startAutoPlay(); 
                                }).catch(error => {
                                    console.log("Music play failed on scroll. Proceeding with slideshow only.");
                                    isMusicPlaying = false;
                                    startAutoPlay(); 
                                });
                            } else if (hasInteracted) {
                                startAutoPlay(); 
                            }
                        }
                    } else if (!entry.isIntersecting && (entry.target.id === 'our-story' || entry.target.closest('#our-story'))) {
                         isStorySliderVisible = false;
                         clearInterval(autoPlayInterval);
                    }
                });
            }, {
                threshold: 0.1
            });

            document.querySelectorAll('.animate-on-scroll').forEach(el => {
                observer.observe(el);
            });


            // --- 4. SUNFLOWER PETAL GENERATION ---
            const NUM_PETALS = 30; 
            for (let i = 0; i < NUM_PETALS; i++) {
                const petal = document.createElement('div');
                petal.classList.add('petal');
                
                const size = Math.random() * 15 + 10;
                const duration = Math.random() * 15 + 15;
                const delay = Math.random() * -duration;

                petal.style.width = `${size}px`;
                petal.style.height = `${size}px`;
                petal.style.left = `${Math.random() * 100}vw`;
                petal.style.animationDuration = `${duration}s`;
                petal.style.animationDelay = `${delay}s`;
                
                petal.style.transform = `rotate(${Math.random() * 360}deg)`;

                petalContainer.appendChild(petal);
            }
            
            // --- 5. RSVP MODAL AND GOOGLE SHEET INTERACTION LOGIC ---
            const rsvpModal = document.getElementById('rsvp-modal');
            const rsvpBtn = document.getElementById('rsvp-btn');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const rsvpForm = document.getElementById('rsvp-form');
            const formStatus = document.getElementById('form-status');
            const attendingSelect = document.getElementById('attending');
            const guestCountField = document.getElementById('guest-count-field');
            const confirmRsvpBtn = document.getElementById('confirm-rsvp-btn');
            
            // YOU MUST REPLACE THIS PLACEHOLDER URL
            const GOOGLE_SHEET_WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbxJs_cvHLYVLMI5ZJsojuPYhhJNlynoeLz7WS8vhfZelOHq7QfOIpJMjXh1STwTiw/exec'; 

            // A. Open Modal
            rsvpBtn.addEventListener('click', (event) => {
                event.preventDefault(); 
                rsvpModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden'; 
            });
            
            // B. Close Modal
            const closeModal = () => {
                rsvpModal.classList.add('hidden');
                document.body.style.overflow = ''; 
            };
            closeModalBtn.addEventListener('click', closeModal);
            rsvpModal.addEventListener('click', (e) => {
                if (e.target === rsvpModal) {
                    closeModal();
                }
            });
            
            // C. Show/Hide Guest Count based on Attending Status
            attendingSelect.addEventListener('change', () => {
                const guestCountInput = document.getElementById('guest-count');
                if (attendingSelect.value === 'Yes') {
                    guestCountField.classList.remove('hidden');
                    guestCountInput.setAttribute('required', 'required');
                } else {
                    guestCountField.classList.add('hidden');
                    guestCountInput.removeAttribute('required');
                }
            });
            guestCountField.classList.add('hidden'); 

            // D. Form Submission to Google Sheets
            rsvpForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                if (GOOGLE_SHEET_WEB_APP_URL === 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL_HERE') {
                    formStatus.textContent = 'ERROR: Please replace the placeholder URL in the script.';
                    formStatus.classList.remove('hidden');
                    formStatus.classList.add('text-red-500');
                    return;
                }

                // 1. Prepare data
                const formData = new FormData(rsvpForm);
                const data = new URLSearchParams(formData); 
                
                // 2. Set UI for loading state
                confirmRsvpBtn.disabled = true;
                confirmRsvpBtn.innerHTML = '<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Sending...';
                formStatus.classList.remove('hidden', 'text-theme-green', 'text-red-500');
                formStatus.textContent = 'Submitting RSVP...';

                // 3. Send data to Google Apps Script
                try {
                    const response = await fetch(GOOGLE_SHEET_WEB_APP_URL, {
                        method: 'POST',
                        mode: 'no-cors', 
                        body: data
                    });
                    
                    // Since mode is 'no-cors', we can only rely on the successful fetch() completing.
                    // If it completes without an exception, we assume the data was sent.
                    
                    formStatus.textContent = 'Success! Your RSVP has been confirmed. Thank you!';
                    formStatus.classList.remove('text-red-500');
                    formStatus.classList.add('text-theme-green');

                    rsvpBtn.textContent = 'RSVP Confirmed!';
                    rsvpBtn.disabled = true;
                    rsvpBtn.classList.remove('bg-sun-yellow', 'hover:bg-yellow-500', 'border-sun-brown');
                    rsvpBtn.classList.add('bg-theme-green', 'hover:bg-green-700', 'border-theme-green', 'cursor-default');

                    setTimeout(closeModal, 2500); // Close modal after success message
                    
                } catch (error) {
                    console.error('Submission Error:', error);
                    formStatus.textContent = 'There was an error submitting your RSVP. Please try again.';
                    formStatus.classList.remove('text-theme-green');
                    formStatus.classList.add('text-red-500');
                } finally {
                    confirmRsvpBtn.disabled = false;
                    confirmRsvpBtn.innerHTML = 'Confirm RSVP';
                }
            });


            // --- 6. OUR STORY SLIDER LOGIC (12 SLIDES) ---
            const storySlides = [
                { img: 'pic 121.jpg', heading: 'The Beginning', text: "It all started with a chance meeting. Kristen was admiring the sunflowers, and Denzel, selling his homemade honey, offered her a free sample. It was love at first sight... and first taste!" },
                { img: 'pic 10.jpg', heading: 'Our First Date', text: "We spent our first date hiking up Eagle Peak, talking for hours. The view was incredible, but the spark between us was brighter." },
                { img: 'pic 9.jpg', heading: 'Making It Official', text: "After two months, we knew this was forever. We officially became a couple on the Ferris wheel overlooking the city lights." },
                { img: 'pic 8.jpg', heading: 'Travel Bug', text: "Our first big trip was backpacking across Italy. We ate pasta, saw ancient ruins, and realized we were the best travel partners." },
                { img: 'pic 7.jpg', heading: 'Moving In', text: "Combining two households meant a lot of effort, but building a home together was the first step in our lifelong journey." },
                { img: 'pic 6.jpg', heading: 'Adopting Luna', text: "We adopted our mischievous cat, Luna. She quickly became the undisputed queen of the household and our furry best friend." },
                { img: 'pic 5.jpg', heading: 'Big Challenges', text: "Like any couple, we faced challenges, but our love and commitment only grew stronger with every obstacle we overcame." },
                { img: 'pic 4.jpg', heading: 'Family Vacations', text: "The first time we brought our families together for a holidayâ€”a chaotic, laughter-filled weekend we'll never forget." },
                { img: 'pic 3.jpg', heading: 'The Proposal Day', text: "Denzel got down on one knee under a sky full of stars during our annual camping trip. It was perfect, private, and tear-filled." },
                { img: 'pic 2.jpg', heading: 'Engagement Party', text: "Celebrating with all our loved ones felt incredible. We were overwhelmed by the support and joy surrounding us." },
                { img: 'pic 1.jpg', heading: 'Planning the Wedding', text: "Choosing the Golden Fields Farm was easyâ€”it reminded us of our first meeting among the sunflowers. Everything is falling into place!" },
                { img: 'pic 1.jpg', heading: 'Next Chapter', text: "Now, as the countdown continues, we eagerly await the moment we say 'I do' and start the next, greatest chapter of our story with all of you!" }
            ];

            let currentSlide = 0;
            const sliderImg = document.getElementById('slider-img');
            const storyHeading = document.getElementById('story-heading');
            const storyParagraph = document.getElementById('story-paragraph');
            const sliderDotsContainer = document.getElementById('slider-dots');

            function renderDots() {
                sliderDotsContainer.innerHTML = '';
                storySlides.forEach((_, index) => {
                    const dot = document.createElement('button');
                    dot.classList.add('w-3', 'h-3', 'rounded-full', 'bg-gray-400', 'hover:bg-sun-yellow', 'transition-colors', 'focus:outline-none', 'focus:ring-2', 'focus:ring-sun-yellow', 'mx-0.5'); // Added mx-0.5 for spacing
                    if (index === currentSlide) {
                        dot.classList.remove('bg-gray-400');
                        dot.classList.add('bg-sun-yellow', 'scale-125');
                    }
                    dot.addEventListener('click', () => {
                        showSlide(index);
                        resetAutoPlay();
                    });
                    dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                    sliderDotsContainer.appendChild(dot);
                });
            }

            function showSlide(index) {
                if (index < 0) {
                    currentSlide = storySlides.length - 1;
                } else if (index >= storySlides.length) {
                    currentSlide = 0;
                } else {
                    currentSlide = index;
                }

                sliderImg.classList.add('fade-out');
                storyHeading.classList.add('fade-out');
                storyParagraph.classList.add('fade-out');

                setTimeout(() => {
                    sliderImg.src = storySlides[currentSlide].img;
                    sliderImg.alt = `Our story photo ${currentSlide + 1}: ${storySlides[currentSlide].heading}`;
                    storyHeading.textContent = storySlides[currentSlide].heading;
                    storyParagraph.textContent = storySlides[currentSlide].text;

                    sliderImg.classList.remove('fade-out');
                    storyHeading.classList.remove('fade-out');
                    storyParagraph.classList.remove('fade-out');
                    
                    renderDots();
                }, 700);
            }

            let autoPlayInterval;
            const autoPlayDelay = 8000;

            function startAutoPlay() {
                if (isStorySliderVisible && hasInteracted) { 
                    clearInterval(autoPlayInterval); 
                    autoPlayInterval = setInterval(() => {
                        showSlide(currentSlide + 1);
                    }, autoPlayDelay);
                }
            }

            function resetAutoPlay() {
                clearInterval(autoPlayInterval);
                if (isStorySliderVisible) { 
                    startAutoPlay();
                }
            }

            showSlide(0);
        });
    </script>
</body>
</html>



